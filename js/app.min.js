(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{(()=>{const t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}};t.any()?document.body.classList.add("touch"):document.body.classList.add("pc")})(),function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const t=document.querySelector(".arrow-upp"),e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);t&&t.addEventListener("click",(function(){window.scrollTo({top:0,left:0,behavior:"smooth"})})),window.addEventListener("scroll",(function(){window.scrollY>e/4?t.classList.add("active"):t.classList.remove("active")}))})();const t=document.querySelector("main"),e=document.querySelector(".nav-list"),n=document.querySelector(".create-counter-form"),o=localStorage.getItem("counters")?JSON.parse(localStorage.getItem("counters")):[];function c(e,n=0){const o=document.createElement("section");o.classList.add("_counter-item"),o.innerHTML=`\n            <div class="_counter-item-container _container">\n                <div class="counter-block">\n                <button title="delete counter?" class="counter-block-remove _btn-delete">x</button>\n                    <h2 class="counter-block-title">${e}</h2>\n                    <div class="counter-block-actions">\n                        <button class="counter-block-button _btn-minus">\n                            -\n                        </button>\n                        <div class="counter-block-count">${n}</div>\n                        <button class="counter-block-button _btn-plus">\n                            +\n                        </button>\n                    </div>\n                    <button class="counter-block-button _btn-reset" >reset</button>\n                </div>\n            </div>\n            `,t.appendChild(o)}function r(t){const n=document.createElement("li");n.classList.add("nav-list-item"),n.innerHTML=`\n                <button\n                    href="index.html"\n                    data-location="home"\n                    class="nav-list-item-button"\n                >\n                    ${t}\n                </button>\n            `,e.appendChild(n)}function i(){const t=document.querySelectorAll(".nav-list-item-button"),e=document.querySelectorAll("section");t[0].classList.add("active"),e[0].classList.add("active"),t.length>0&&t.forEach(((n,o)=>{n.classList.remove("active"),t[0].classList.add("active"),n.addEventListener("click",(()=>{t.forEach((t=>t.classList.remove("active"))),n.classList.add("active"),e.forEach((t=>{t.classList.remove("active"),e[o].classList.add("active")}))}))}))}function a(){const t=document.querySelectorAll("._counter-item");t.length>0&&t.forEach(((t,e)=>{const n=t,c=n.querySelector(".counter-block-count"),r=n.querySelector("._btn-minus"),i=n.querySelector("._btn-plus"),a=n.querySelector("._btn-reset"),s=n.querySelector("._btn-delete");r.addEventListener("click",(()=>{o[e].count<=0?o[e].count=0:o[e].count--,c.textContent=o[e].count,localStorage.setItem("counters",JSON.stringify(o))})),i.addEventListener("click",(()=>{o[e].count++,c.textContent=o[e].count,localStorage.setItem("counters",JSON.stringify(o))})),a.addEventListener("click",(()=>{o[e].count=0,c.textContent=o[e].count,localStorage.setItem("counters",JSON.stringify(o))})),s.addEventListener("click",(()=>{o.splice(e,1),localStorage.setItem("counters",JSON.stringify(o)),location.reload()}))}))}n&&n.addEventListener("submit",(t=>{t.preventDefault();const e=t.target.nameCounter.value;""!==e&&(o.push({name:e,count:0}),localStorage.setItem("counters",JSON.stringify(o)),c(e),r(e),i(),a()),n.reset(),location.reload()})),localStorage.getItem("counters")&&(JSON.parse(localStorage.getItem("counters")).forEach((t=>{c(t.name,t.count),r(t.name)})),a()),i()}))})();